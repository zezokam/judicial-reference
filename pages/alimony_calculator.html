<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ - ุงููุฑุฌุน ุงููุถุงุฆู</title>
    
    <!-- ูุณูู ูุนุงููุฉ ุงูุฑุงุจุท (Open Graph) -->
    <meta property="og:title" content="ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ - ุงููุฑุฌุน ุงููุถุงุฆู" />
    <meta property="og:description" content="ุฃุฏุงุฉ ุงุณุชุฑุดุงุฏูุฉ ูุญุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉ ููุฃุจูุงุก ูููุงู ูุฃุญุฏุซ ุงููุนุงููุฑ ุงููุถุงุฆูุฉุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุงูุชูุฏูุฑ ุงูููุงุฆู ูุฎุถุน ููุณูุทุฉ ุงูุชูุฏูุฑูุฉ ูููุญููุฉ." />
    <meta property="og:image" content="https://alkamali.uk/images/thumbnails/alimony-calculator-og-image.jpg" />
    <meta property="og:url" content="https://alkamali.uk/pages/alimony_calculator.html" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="ar_OM" />
    
    <!-- ูุณูู ุชููุชุฑ ูุงุฑุฏุฒ -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ - ุงููุฑุฌุน ุงููุถุงุฆู" />
    <meta name="twitter:description" content="ุฃุฏุงุฉ ุงุณุชุฑุดุงุฏูุฉ ูุญุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉ ููุฃุจูุงุก ูููุงู ูุฃุญุฏุซ ุงููุนุงููุฑ ุงููุถุงุฆูุฉุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุงูุชูุฏูุฑ ุงูููุงุฆู ูุฎุถุน ููุณูุทุฉ ุงูุชูุฏูุฑูุฉ ูููุญููุฉ." />
    <meta name="twitter:image" content="https://alkamali.uk/images/thumbnails/alimony-calculator-og-image.jpg" />
    
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/calculator.css">
    <!-- Font Awesome ููุฃููููุงุช -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts - Tajawal -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .checkbox-group label {
            margin-right: 1rem;
            margin-bottom: 0;
        }
        
        .conditional-field {
            margin-top: 1rem;
            padding-right: 1.5rem;
            border-right: 2px solid var(--primary-color);
            display: none;
        }
        
        .result-amount {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: bold;
            text-align: center;
            margin: 1.5rem 0;
        }
        
        .calculation-details {
            background-color: var(--bg-light);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-top: 1rem;
            overflow-x: auto; /* ูุถูุงู ุนุฏู ุชุฌุงูุฒ ุงูุฌุฏูู ูุญุฏูุฏ ุงูุดุงุดุฉ */
        }
        
        .btn-calculate {
            background-color: var(--primary-color);
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: var(--border-radius);
            font-family: 'Tajawal', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-calculate:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-reset {
            background-color: var(--text-light);
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: var(--border-radius);
            font-family: 'Tajawal', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            margin-right: 1rem;
        }
        
        .btn-reset:hover {
            background-color: var(--text-dark);
        }
        
        .buttons-container {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap; /* ููุชูุงูู ูุน ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ */
            gap: 1rem; /* ูุณุงูุฉ ุจูู ุงูุฃุฒุฑุงุฑ ุนูุฏ ุงูุชูุงู ุงูุนูุงุตุฑ */
        }
        
        .children-age-container {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--bg-light);
            border-radius: var(--border-radius);
            border-right: 2px solid var(--primary-color);
        }
        
        .child-age-field {
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .child-age-field h4 {
            margin-top: 0;
            margin-bottom: 0.75rem;
            color: var(--primary-color);
            font-size: 1.1rem;
        }
        
        .age-factor-info {
            margin-top: 1rem;
            padding: 0.75rem;
            background-color: #f8f1e9;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
        }
        
        .age-factor-info h4 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: var(--primary-dark);
        }
        
        .age-factor-info ul {
            margin: 0;
            padding-right: 1.5rem;
        }
        
        .calculation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        
        .calculation-table th, .calculation-table td {
            padding: 0.5rem;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        .calculation-table th {
            background-color: var(--bg-alt);
            font-weight: 500;
        }
        
        .calculation-table tr:last-child td {
            border-bottom: none;
        }
        
        .calculation-table .total-row {
            font-weight: bold;
            background-color: #f8f1e9;
        }
        
        /* ุชุญุณููุงุช ููุชูุงูู ูุน ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ */
        @media (max-width: 768px) {
            .calculation-table {
                font-size: 0.9rem;
            }
            
            .calculation-table th, .calculation-table td {
                padding: 0.4rem;
            }
            
            .result-amount {
                font-size: 1.7rem;
            }
            
            .child-age-field {
                padding: 0.6rem;
            }
        }
        
        /* ุชูููุฒ ุฎูุงุฑ ุจุฏู ุงูุณูู */
        .housing-option {
            background-color: #f8f1e9;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            border-right: 3px solid var(--primary-color);
        }
        
        .housing-option h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        /* ุชูููุฒ ุฎูุงุฑ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ */
        .seasonal-increase-option {
            background-color: #f0f8ff;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            border-right: 3px solid #4682b4;
        }
        
        .seasonal-increase-option h3 {
            margin-top: 0;
            color: #4682b4;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        /* ุชุญุณูู ุนุฑุถ ุงูุดุฑุญ ุงููุฎุชุตุฑ */
        .simple-explanation {
            background-color: #f0f8ff;
            padding: 0.75rem;
            border-radius: var(--border-radius);
            margin-top: 1rem;
            font-size: 0.95rem;
            border-right: 2px solid #4682b4;
        }
        
        /* ุชูููุฒ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ ูู ุงููุชุงุฆุฌ */
        .seasonal-increase-result {
            background-color: #f0f8ff;
            padding: 0.75rem;
            border-radius: var(--border-radius);
            margin-top: 1rem;
            font-size: 1.1rem;
            border-right: 3px solid #4682b4;
            font-weight: 500;
        }
        
        /* ุชูููุฒ ูุนูููุงุช ุงููุณุจ ุงููุฎุชููุฉ */
        .percentage-info {
            background-color: #e8f4f8;
            padding: 0.75rem;
            border-radius: var(--border-radius);
            margin-top: 0.5rem;
            font-size: 0.9rem;
            border-right: 2px solid #4682b4;
        }
        
        /* ุชูุจูู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ุงูุนุงููุฉ */
        .high-obligations-alert {
            background-color: #fff3e0;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-top: 1rem;
            border-right: 3px solid #ff9800;
            display: none;
        }
        
        .high-obligations-alert h4 {
            margin-top: 0;
            color: #e65100;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }
        
        .radio-group {
            margin: 0.75rem 0;
        }
        
        .radio-group label {
            display: block;
            margin-bottom: 0.5rem;
            padding-right: 1.5rem;
            position: relative;
        }
        
        .radio-group input[type="radio"] {
            position: absolute;
            right: 0;
            top: 0.25rem;
        }
        
        .manual-deduction-field {
            margin-top: 1rem;
            padding-right: 1.5rem;
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <a href="../index.html" class="logo">
                <img src="../images/final_logo.svg" alt="ุดุนุงุฑ ุงููุฑุฌุน ุงููุถุงุฆู" id="logo-placeholder">
                <h1>ุงููุฑุฌุน ุงููุถุงุฆู</h1>
            </a>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="../index.html"><i class="fas fa-home icon"></i>ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="alimony_calculator.html"><i class="fas fa-money-bill-wave icon"></i>ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ</a></li>
                <li><a href="calculator.html"><i class="fas fa-calculator icon"></i>ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ</a></li>
                <li><a href="https://azzan.notion.site/" target="_blank"><i class="fas fa-book icon"></i>ููุนูู: ูุฑุงุฌุน ูููุงุฐุฌ ูุถุงุฆูุฉ</a></li>
                <li><a href="about.html"><i class="fas fa-info-circle icon"></i>ูุจุฐุฉ</a></li>
                <li><a href="contact.html"><i class="fas fa-envelope icon"></i>ุชูุงุตู ูุนูุง</a></li>
                <li><a href="login.html"><i class="fas fa-user icon"></i>ุชุณุฌูู ุงูุฏุฎูู</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="page-header">
            <h1 class="page-title">ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ</h1>
            <p class="page-description">ุฃุฏุงุฉ ุงุณุชุฑุดุงุฏูุฉ ูุญุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉ ููุฃุจูุงุก ูููุงู ูุฃุญุฏุซ ุงููุนุงููุฑ ุงููุถุงุฆูุฉุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุงูุชูุฏูุฑ ุงูููุงุฆู ูุฎุถุน ููุณูุทุฉ ุงูุชูุฏูุฑูุฉ ูููุญููุฉ.</p>
        </div>

        <div class="content-section">
            <div class="calculator-container">
                <div class="calculator-form">
                    <form id="alimonyForm">
                        <div class="form-group">
                            <label for="fatherIncome">ุงูุฏุฎู ุงูุดูุฑู ููุฃุจ (ุฑ.ุน):</label>
                            <input type="number" id="fatherIncome" class="form-control" min="0" required>
                        </div>
                        
                        <div class="housing-option">
                            <h3>ูููุฉ ุงูุณูู</h3>
                            <div class="checkbox-group">
                                <label for="includeHousingAllowance">ูู ุชุทูุจ ุงููุฏุนูุฉ ุจุฏู ุณูู (ูููุฉ ุณูู)ุ</label>
                                <input type="checkbox" id="includeHousingAllowance">
                            </div>
                            <div class="percentage-info">
                                <p><strong>ููุงุญุธุฉ:</strong> ูุคุซุฑ ุทูุจ ุจุฏู ุงูุณูู ุนูู ุทุฑููุฉ ุงูุญุณุงุจ ููุง ููู:</p>
                                
                                <div style="margin: 10px 0; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
                                    <p><strong>๐ธ ูู ุญุงู ุทูุจ ุจุฏู ุณูู ูุณุชูู:</strong><br>
                                    ููุญุชุณุจ ุจุฏู ุงูุณูู ุจูุณุจุฉ 8% ูู ุงูุฏุฎู ุงูุตุงูู.<br>
                                    ุจุนุฏ ุฐููุ ุชูุญุณุจ ูููุฉ ุงูุฃุทูุงู ุจูุณุจุฉ 5% ูู ุงูุฏุฎู ุงูุตุงูู ร ุงููุนุงูู ุงูุนูุฑู ููู ุทูู.</p>
                                    
                                    <p><strong>๐ธ ูู ุญุงู ุนุฏู ุทูุจ ุจุฏู ุณูู ูุณุชูู:</strong><br>
                                    ุชูุถุงู ูุณุจุฉ 9% ูู ุงูุฏุฎู ุงูุตุงูู ุถูู ุงููููุฉ ุงูุนุงูุฉ ุจุฏู ุงูุณููุ<br>
                                    ูุชูุญุณุจ ูููุฉ ุงูุฃุทูุงู ุจูุณุจุฉ 6.5% ูู ุงูุฏุฎู ุงูุตุงูู ร ุงููุนุงูู ุงูุนูุฑู ููู ุทูู.</p>
                                    
                                    <p style="color: #6c757d; font-size: 0.9em; margin-top: 10px;">
                                    ๐ก <strong>ุงูููู ุงููุนุฑูุถุฉ ุงุณุชุฑุดุงุฏูุฉ ููุทุ ููุฌูุฒ ูููุงุถู ุชุนุฏูููุง ููู ุธุฑูู ูู ุญุงูุฉ.</strong></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="childrenCount">ุนุฏุฏ ุงูุฃุจูุงุก ูู ุงูุฒูุฌุฉ ุงููุทููุฉ:</label>
                            <input type="number" id="childrenCount" class="form-control" min="1" required>
                        </div>
                        
                        <div id="childrenAgeContainer" class="children-age-container" style="display: none;">
                            <h3>ุงููุฆุงุช ุงูุนูุฑูุฉ ููุฃุจูุงุก</h3>
                            <div id="childrenAgeFields"></div>
                            
                            <div class="age-factor-info">
                                <h4>ูุนุงููุงุช ุงููุฆุงุช ุงูุนูุฑูุฉ:</h4>
                                <ul>
                                    <li>ุฃูู ูู ุณูุชูู: ูุนุงูู 1.2 (ุญุงุฌุงุช ุบุฐุงุฆูุฉ ูุทุจูุฉ ูุฑุชูุนุฉ)</li>
                                    <li>ูู 2 ุฅูู 6 ุณููุงุช: ูุนุงูู 1.1 (ูุฑุญูุฉ ุฑูุงุถ ุงูุฃุทูุงู)</li>
                                    <li>ูู 7 ุฅูู 12 ุณูุฉ: ูุนุงูู 1.1 (ูุตุงุฑูู ุฏุฑุงุณูุฉ ููุชุธูุฉ)</li>
                                    <li>ูู 13 ุฅูู 17 ุณูุฉ: ูุนุงูู 1.3 (ุงุฑุชูุงุน ูุตุฑูู ุงููุฑุงูู)</li>
                                    <li>18 ูุฃูุซุฑ (ุบูุฑ ูุชุฒูุฌ/ุบูุฑ ุนุงูู): ูุนุงูู 0.9 (ุงุณุชูุฑุงุฑ ุงูุญุงุฌุฉ ูุน ุชุฎููู ุงูุงูุชุฒุงูุงุช)</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label for="hasObligations">ูู ุนูู ุงูุฃุจ ุงูุชุฒุงูุงุช ูุงููุฉ ูุจูุฑุฉ (ุฏููู ุฃู ุฃูุณุงุท)ุ</label>
                                <input type="checkbox" id="hasObligations">
                            </div>
                            
                            <div id="obligationsField" class="conditional-field">
                                <div class="form-group">
                                    <label for="obligationsAmount">ููุฏุงุฑ ุงูุงูุชุฒุงูุงุช ุงูุดูุฑูุฉ (ุฑ.ุน):</label>
                                    <input type="number" id="obligationsAmount" class="form-control" min="0">
                                </div>
                                
                                <div id="highObligationsAlert" class="high-obligations-alert">
                                    <h4>ุชูุจูู: ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ูุฑุชูุนุฉ</h4>
                                    <p>ุงููุจูุบ ุงูููุฏุฎู ููุงูุชุฒุงูุงุช ูุดูู ุฃูุซุฑ ูู ูฆููช ูู ุฏุฎู ุงูุฃุจ. ูู ุชุฑุบุจ ูู ุฎุตู ุงููุจูุบ ุจุงููุงููุ ุฃู ุชุญุฏูุฏ ููุฏุงุฑ ุงูุฎุตู ูุฏูููุงุ</p>
                                    
                                    <div class="radio-group">
                                        <label>
                                            <input type="radio" name="obligationsOption" id="fullDeduction" value="full" checked>
                                            ุฎุตู ุงูุงูุชุฒุงูุงุช ุจุงููุงูู ููุง ูู ูุฏุฎูุฉ
                                        </label>
                                        <label>
                                            <input type="radio" name="obligationsOption" id="manualDeduction" value="manual">
                                            ุชุญุฏูุฏ ูุจูุบ ุงูุฎุตู ูุฏูููุง
                                        </label>
                                    </div>
                                    
                                    <div id="manualDeductionField" class="manual-deduction-field">
                                        <div class="form-group">
                                            <label for="manualDeductionAmount">ุฃุฏุฎู ุงููุจูุบ ุงูุฐู ุชุฑุบุจ ุจุฎุตูู ูู ุงูุฏุฎู (ุฑ.ุน):</label>
                                            <input type="number" id="manualDeductionAmount" class="form-control" min="0">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label for="hasAnotherWife">ูู ุงูุฃุจ ูุชุฒูุฌ ูู ุงูุฑุฃุฉ ุฃุฎุฑูุ</label>
                                <input type="checkbox" id="hasAnotherWife">
                            </div>
                            
                            <div id="anotherWifeField" class="conditional-field">
                                <div class="checkbox-group">
                                    <label for="hasChildrenFromAnotherWife">ูู ูุฏูู ุฃุจูุงุก ูู ุงูุฒูุฌุฉ ุงูุฃุฎุฑูุ</label>
                                    <input type="checkbox" id="hasChildrenFromAnotherWife">
                                </div>
                                
                                <div id="otherChildrenField" class="conditional-field">
                                    <div class="form-group">
                                        <label for="otherChildrenCount">ุนุฏุฏ ุงูุฃุจูุงุก ูู ุงูุฒูุฌุฉ ุงูุฃุฎุฑู:</label>
                                        <input type="number" id="otherChildrenCount" class="form-control" min="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="seasonal-increase-option">
               <div class="form-group">
                            <div class="checkbox-group">
                                <label for="includeSeasonalIncrease">ูู ุชุฑุบุจ ูู ุญุณุงุจ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ (ููุฃุนูุงุฏ ูุงูุฏุฑุงุณุฉ)ุ</label>
                                <input type="checkbox" id="includeSeasonalIncrease">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="geographicLocation">ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ:</label>
                            <select id="geographicLocation" class="form-control">
                                <option value="normal">ุนุงุฏูุฉ</option>
                                <option value="high_cost">ูุฑุชูุนุฉ ุงููููุฉ</option>
                            </select>
                            <div class="percentage-info">
                                <p>ูู ุงูููุงุทู ูุฑุชูุนุฉ ุงููููุฉุ ุชูุถุงู ูุณุจุฉ 2% ูู ุงูุฏุฎู ุงูุตุงูู ูุชุบุทูุฉ ูุตุงุฑูู ุฅุถุงููุฉ.</p>
                            </div>
                        </div>                       
                        <div class="buttons-container">
                            <button type="button" id="resetBtn" class="btn-reset">ุฅุนุงุฏุฉ ุชุนููู</button>
                            <button type="button" id="calculateBtn" class="btn-calculate">ุญุณุงุจ ุงููููุฉ</button>
                        </div>
                    </form>
                </div>
                
                <div id="resultContainer" class="result-container">
                    <div class="result-box">
                        <h3>ูุชูุฌุฉ ุงูุญุณุงุจ</h3>
                        <div id="netIncomeResult" class="result-amount" style="font-size: 1.5rem; color: #4682b4;">ุงูุฏุฎู ุงูุตุงูู ุจุนุฏ ุฎุตู ุงูุงูุชุฒุงูุงุช: <span>0</span> ุฑ.ุน</div>
                        <div class="result-amount" id="alimonyResult">ุงููููุฉ ุงูุชูุฏูุฑูุฉ: <span>0</span> ุฑ.ุน</div>
                        
                        <div id="seasonalIncreaseResult" class="seasonal-increase-result" style="display: none;">
                            ูุชุฒุงุฏ ูู ุงูุฃุนูุงุฏ ูุจุฏุงูุฉ ูู ูุตู ุฏุฑุงุณู ุฅูู ูุจูุบ ููุฏุฑู: <span>0</span> ุฑ.ุน
                        </div>
                        
                        <!-- ููุฎุต ุงูุญุณุงุจ ุงูุชูุตููู -->
                        <div id="calculationSummary" class="calculation-summary" style="display: none; margin-top: 1rem; padding: 15px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid #dee2e6;">
                            <h4 style="color: #495057; margin-bottom: 10px; font-size: 1.1rem;">๐ ููุฎุต ุงูุญุณุงุจ:</h4>
                            <div id="summaryDetails" style="font-size: 0.95rem; line-height: 1.6;"></div>
                        </div>
                        
                        <div class="buttons-container" style="margin-top: 1.5rem;">
                            <button type="button" id="showReasoningBtn" class="btn-calculate" style="background-color: #4682b4;">ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู</button>
                        </div>
                        
                        <div id="reasoningContainer" class="calculation-details" style="display: none; margin-top: 1.5rem; background-color: #f9f9f9; border-right: 3px solid #4682b4;">
                            <h4 style="color: #4682b4;">ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู:</h4>
                            <div id="reasoningText" style="line-height: 1.8; padding: 1rem; white-space: pre-line;"></div>
                            <div class="buttons-container" style="margin-top: 1rem; justify-content: flex-start;">
                                <button type="button" id="copyReasoningBtn" class="btn-calculate" style="background-color: #4682b4; padding: 0.5rem 1rem; font-size: 0.9rem;">ูุณุฎ ุงููุต</button>
                            </div>
                        </div>
                        
                        <div class="calculation-details" id="calculationDetails">
                            <h4>ุชูุงุตูู ุงูุญุณุงุจ:</h4>
                            <div id="childrenCalculationDetails"></div>
                            <p id="housingAllowance"></p>
                            <p id="baseCalculation"></p>
                            <p id="obligationsDeduction"></p>
                            <p id="otherChildrenDeduction"></p>
                            <p id="finalCalculation"></p>
                            
                            <div class="simple-explanation" id="simpleExplanation"></div>
                        </div>
                    </div>
                    
                    <div class="result-note">
                        <p><strong>ููุงุญุธุฉ:</strong> ูุฐู ุงูุญุงุณุจุฉ ุชูุฏู ุชูุฏูุฑูุง ูููููุฉ ุจูุงุกู ุนูู ุงููุนุงููุฑ ุงููุนุชูุฏุฉุ ููุฏ ุชุฎุชูู ุงููููุฉ ุงููุนููุฉ ุญุณุจ ุธุฑูู ูู ุญุงูุฉ ูุงูุณูุทุฉ ุงูุชูุฏูุฑูุฉ ูููุงุถู.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>ูุนูููุงุช ุนู ุญุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉ</h2>
            <p>ุชุนุชูุฏ ุงููููุฉ ุงูุชูุฏูุฑูุฉ ููุฃุจูุงุก ุนูู ุนุฏุฉ ุนูุงูู ุฃูููุง ุฏุฎู ุงูุฃุจ ูุนุฏุฏ ุงูุฃุจูุงุก ุงููุณุชุญููู ูููููุฉ ูุฃุนูุงุฑููุ ูุน ูุฑุงุนุงุฉ ุงูุธุฑูู ุงูุฎุงุตุฉ ูุซู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ุงูุฃุฎุฑู ูุงููุณุคูููุงุช ุงูุนุงุฆููุฉ.</p>
            
            <p class="judge-discretion-note" style="background-color: #f0f8ff; padding: 1rem; border-radius: var(--border-radius); border-right: 3px solid #4682b4; margin-bottom: 1.5rem; font-weight: 500;"><b>ููุงุญุธุฉ ูุงูุฉ:</b> ุงูููู ุงููุงุชุฌุฉ ุนู ูุฐู ุงูุญุงุณุจุฉ ูู ููู ุงุณุชุฑุดุงุฏูุฉ ูุบูุฑ ูููุฒูุฉ. ููุชูู ุงููุงุถู ุงูุณูุทุฉ ุงูุชูุฏูุฑูุฉ ุงููุงููุฉ ูุชุนุฏูู ูุฐู ุงููุจุงูุบ ุจุงูุฒูุงุฏุฉ ุฃู ุงูููุตุงู ุจูุงุกู ุนูู ุธุฑูู ูู ูุถูุฉ ุนูู ุญุฏุฉ.</p>
            
            <h3>ุงููุนุงููุฑ ุงููุนุชูุฏุฉ ูู ุงูุญุณุงุจ (ุงูุฅุตุฏุงุฑ ุงููุญุฏูุซ)</h3>
            <ul>
                <li><b>ุงูุฏุฎู ุงูุตุงูู:</b> ุงูุฏุฎู ุงูููู - ุงูุงูุชุฒุงูุงุช ุงูุดูุฑูุฉ ุงูุซุงุจุชุฉ.</li>
                <li><b>ุจุฏู ุงูุณูู:</b>
                    <ul>
                        <li><b>ูุน ุทูุจ ุจุฏู ุณูู ูุณุชูู:</b> ููุญุชุณุจ 8% ูู ุงูุฏุฎู ุงูุตุงูู.</li>
                        <li><b>ุจุฏูู ุทูุจ ุจุฏู ุณูู ูุณุชูู:</b> ุชูุถุงู ูุณุจุฉ 9% ูู ุงูุฏุฎู ุงูุตุงูู ุถูู ุงููููุฉ ุงูุนุงูุฉ.</li>
                    </ul>
                </li>
                <li><b>ูููุฉ ุงูุฃุทูุงู:</b>
                    <ul>
                        <li><b>ูุน ุจุฏู ุณูู ูุณุชูู:</b> 5% ูู ุงูุฏุฎู ุงูุตุงูู ร ุงููุนุงูู ุงูุนูุฑู ููู ุทูู.</li>
                        <li><b>ุจุฏูู ุจุฏู ุณูู ูุณุชูู:</b> 6.5% ูู ุงูุฏุฎู ุงูุตุงูู ร ุงููุนุงูู ุงูุนูุฑู ููู ุทูู.</li>
                    </ul>
                </li>
                <li><b>ูุนุงููุงุช ุงูุฃุนูุงุฑ ุงููุญุฏุซุฉ:</b>
                    <ul>
                        <li>ุฃูู ูู ุณูุชูู: 1.2</li>
                        <li>2 - 6 ุณููุงุช: 1.1</li>
                        <li>7 - 12 ุณูุฉ: 1.1</li>
                        <li>13 - 17 ุณูุฉ: 1.3</li>
                        <li>18 ูุฃูุซุฑ: 0.9</li>
                    </ul>
                </li>
                <li><b>ุงูุณูู ุงูุนุงู ูููููุงุช:</b>
                    <ul>
                        <li>ูุง ูุชุฌุงูุฒ 40% ูู ุงูุฏุฎู ุงูุตุงูู ููุงุนุฏุฉ ุนุงูุฉ.</li>
                        <li>ูููู ุฑูุนู ุฅูู 45% ุฅุฐุง ูุงู ุงูุฏุฎู ุฃูู ูู 600 ุฑ.ุน.</li>
                        <li>ูููู ุฎูุถู ุฅูู 35% ุฅุฐุง ุชุฌุงูุฒ ุงูุฏุฎู 1500 ุฑ.ุน.</li>
                    </ul>
                </li>
                <li><b>ุฎุตู ุงูุฃุจูุงุก ูู ุฒูุฌุฉ ุฃุฎุฑู:</b> ุฎุตู 3-5% ููู ุทููุ ุจุญุฏ ุฃูุตู 15% ูู ุฅุฌูุงูู ุงููููุฉ.</li>
                <li><b>ุงูุฒูุงุฏุงุช ุงูููุณููุฉ:</b> ุฒูุงุฏุฉ 10% ููุฃุนูุงุฏ ู 15% ููุนุงู ุงูุฏุฑุงุณู (ูุง ุชุฏุฎู ุถูู ุงูุณูู ุงูุนุงู).</li>
                <li><b>ุนุงูู ุงูุฅูุงูุฉ ุงูุฌุบุฑุงููุฉ:</b> ูู ุงูููุงุทู ูุฑุชูุนุฉ ุงููููุฉุ ุชูุถุงู 2% ูู ุงูุฏุฎู ุงูุตุงูู.</li>
            </ul>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">ุงููุฑุฌุน ุงููุถุงุฆู</div>
            <ul class="footer-links">
                <li><a href="../index.html">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="alimony_calculator.html">ุญุงุณุจุฉ ุงููููุฉ ุงูุชูุฏูุฑูุฉ</a></li>
                <li><a href="calculator.html">ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ</a></li>
                <li><a href="https://azzan.notion.site/">ููุนูู: ูุฑุงุฌุน ูููุงุฐุฌ ูุถุงุฆูุฉ</a></li>
                <li><a href="about.html">ูุจุฐุฉ</a></li>
                <li><a href="contact.html">ุชูุงุตู ูุนูุง</a></li>
            </ul>
            <div class="social-icons">
                <a href="alimony_calculator.html#"><i class="fab fa-twitter"></i></a>
                <a href="alimony_calculator.html#"><i class="fab fa-linkedin"></i></a>
                <a href="alimony_calculator.html#"><i class="fab fa-instagram"></i></a>
            </div>
            <div class="copyright">
                &copy; 2025 ุงููุงุถู ุนุฒุงู ุงูููุงูู - ุฌููุน ุงูุญููู ูุญููุธุฉ
            </div>
        </div>
    </footer>

    <script src="calculator.js"></script>
    <script>
        // ููุฏ ุงูุชุณุจูุจ ููุณุฎ ุงููุต
        document.addEventListener('DOMContentLoaded', function() {
            const showReasoningBtn = document.getElementById('showReasoningBtn');
            const copyReasoningBtn = document.getElementById('copyReasoningBtn');
            const reasoningContainer = document.getElementById('reasoningContainer');
            const reasoningText = document.getElementById('reasoningText');
            const resultContainer = document.getElementById('resultContainer');
            
            // ุชุนุฑูู ุงููุฆุงุช ุงูุนูุฑูุฉ ููุนุงููุงุชูุง ุงููุญุฏุซุฉ
            const ageCategories = [
                { id: 'infant', label: 'ุฃูู ูู ุณูุชูู', factor: 1.2 },
                { id: 'young', label: 'ูู 2 ุฅูู 6 ุณููุงุช', factor: 1.1 },
                { id: 'school', label: 'ูู 7 ุฅูู 12 ุณูุฉ', factor: 1.1 },
                { id: 'teen', label: 'ูู 13 ุฅูู 17 ุณูุฉ', factor: 1.3 },
                { id: 'adult', label: '18 ูุฃูุซุฑ (ุบูุฑ ูุชุฒูุฌ/ุบูุฑ ุนุงูู)', factor: 0.9 }
            ];
            
            // ุฅูุดุงุก ุญููู ุงููุฆุงุช ุงูุนูุฑูุฉ ุจูุงุกู ุนูู ุนุฏุฏ ุงูุฃุจูุงุก
            childrenCountInput.addEventListener('change', function() {
                const childrenCount = parseInt(this.value);
                
                if (isNaN(childrenCount) || childrenCount <= 0) {
                    childrenAgeContainer.style.display = 'none';
                    childrenAgeFields.innerHTML = '';
                    return;
                }
                
                childrenAgeFields.innerHTML = '';
                
                for (let i = 0; i < childrenCount; i++) {
                    const childField = document.createElement('div');
                    childField.className = 'child-age-field';
                    
                    const childTitle = document.createElement('h4');
                    childTitle.textContent = `ุงูุทูู ุฑูู ${i + 1}`;
                    childField.appendChild(childTitle);
                    
                    const selectGroup = document.createElement('div');
                    selectGroup.className = 'form-group';
                    
                    const selectLabel = document.createElement('label');
                    selectLabel.setAttribute('for', `childAge_${i}`);
                    selectLabel.textContent = 'ุงููุฆุฉ ุงูุนูุฑูุฉ:';
                    selectGroup.appendChild(selectLabel);
                    
                    const select = document.createElement('select');
                    select.className = 'form-control';
                    select.id = `childAge_${i}`;
                    select.setAttribute('data-child-index', i);
                    
                    ageCategories.forEach(category => {
                        const option = document.createElement('option');
                        option.value = category.id;
                        option.textContent = category.label;
                        option.setAttribute('data-factor', category.factor);
                        select.appendChild(option);
                    });
                    
                    selectGroup.appendChild(select);
                    childField.appendChild(selectGroup);
                    childrenAgeFields.appendChild(childField);
                }
                
                childrenAgeContainer.style.display = 'block';
            });
            
            // ุฅุธูุงุฑ/ุฅุฎูุงุก ุงูุญููู ุงูุดุฑุทูุฉ
            hasObligationsCheckbox.addEventListener('change', function() {
                obligationsField.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    obligationsAmountInput.value = '';
                    highObligationsAlert.style.display = 'none';
                    manualDeductionField.style.display = 'none';
                    fullDeductionRadio.checked = true;
                }
            });
            
            // ุงูุชุญูู ูู ูุณุจุฉ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ
            obligationsAmountInput.addEventListener('input', function() {
                const fatherIncome = parseFloat(document.getElementById('fatherIncome').value);
                const obligationsAmount = parseFloat(this.value);
                
                if (!isNaN(fatherIncome) && !isNaN(obligationsAmount) && fatherIncome > 0) {
                    const obligationsPercentage = (obligationsAmount / fatherIncome) * 100;
                    
                    if (obligationsPercentage > 60) {
                        highObligationsAlert.style.display = 'block';
                        // ุชุนููู ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ููุฎุตู ุงููุฏูู
                        if (manualDeductionAmountInput.value === '') {
                            manualDeductionAmountInput.value = Math.round(fatherIncome * 0.4); // 40% ูู ุงูุฏุฎู
                        }
                    } else {
                        highObligationsAlert.style.display = 'none';
                        manualDeductionField.style.display = 'none';
                    }
                } else {
                    highObligationsAlert.style.display = 'none';
                    manualDeductionField.style.display = 'none';
                }
            });
            
            // ุฅุธูุงุฑ/ุฅุฎูุงุก ุญูู ุงูุฎุตู ุงููุฏูู
            manualDeductionRadio.addEventListener('change', function() {
                manualDeductionField.style.display = this.checked ? 'block' : 'none';
            });
            
            fullDeductionRadio.addEventListener('change', function() {
                manualDeductionField.style.display = this.checked ? 'none' : 'block';
            });
            
            hasAnotherWifeCheckbox.addEventListener('change', function() {
                anotherWifeField.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    hasChildrenFromAnotherWifeCheckbox.checked = false;
                    otherChildrenField.style.display = 'none';
                    document.getElementById('otherChildrenCount').value = '';
                }
            });
            
            hasChildrenFromAnotherWifeCheckbox.addEventListener('change', function() {
                otherChildrenField.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    document.getElementById('otherChildrenCount').value = '';
                }
            });
            
            // ุญุณุงุจ ุงููููุฉ
            calculateBtn.addEventListener('click', function() {
                // ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช
                const fatherIncome = parseFloat(document.getElementById('fatherIncome').value);
                const childrenCount = parseInt(document.getElementById('childrenCount').value);
                
                if (isNaN(fatherIncome) || fatherIncome <= 0 || isNaN(childrenCount) || childrenCount <= 0) {
                    alert('ูุฑุฌู ุฅุฏุฎุงู ููู ุตุญูุญุฉ ููุฏุฎู ุงูุดูุฑู ูุนุฏุฏ ุงูุฃุจูุงุก');
                    return;
                }
                
                // ุญุณุงุจ ุงูุฏุฎู ุงูุตุงูู ุจุนุฏ ุฎุตู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ
                let netIncome = fatherIncome;
                let obligationsAmount = 0;
                let obligationsDeductionText = 'ูุง ููุฌุฏ ุฎุตู ููุงูุชุฒุงูุงุช ุงููุงููุฉ';
                
                if (hasObligationsCheckbox.checked) {
                    if (highObligationsAlert.style.display === 'block' && manualDeductionRadio.checked) {
                        // ุงุณุชุฎุฏุงู ุงูุฎุตู ุงููุฏูู
                        obligationsAmount = parseFloat(manualDeductionAmountInput.value) || 0;
                        obligationsDeductionText = `ุฎุตู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ (ูุฏูู): ${obligationsAmount.toFixed(2)} ุฑ.ุน`;
                    } else {
                        // ุงุณุชุฎุฏุงู ุงูุฎุตู ุงููุงูู
                        obligationsAmount = parseFloat(obligationsAmountInput.value) || 0;
                        obligationsDeductionText = `ุฎุตู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ: ${obligationsAmount.toFixed(2)} ุฑ.ุน`;
                    }
                    
                    // ุงูุชุฃูุฏ ูู ุฃู ุงูุฏุฎู ุงูุตุงูู ูุง ููู ุนู 150 ุฑ.ุน
                    netIncome = Math.max(fatherIncome - obligationsAmount, 150);
                    
                    if (netIncome === 150 && (fatherIncome - obligationsAmount) < 150) {
                        obligationsDeductionText += ` (ุชู ุชุซุจูุช ุงูุฏุฎู ุงูุตุงูู ุนูุฏ ุงูุญุฏ ุงูุฃุฏูู 150 ุฑ.ุน)`;
                    }
                }
                
                // ุนุฑุถ ุงูุฏุฎู ุงูุตุงูู
                netIncomeResultSpan.textContent = netIncome.toFixed(2);
                obligationsDeductionElement.textContent = obligationsDeductionText;
                
                // ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ููุงู ุทูุจ ูุจุฏู ุงูุณูู
                const includeHousingAllowance = includeHousingAllowanceCheckbox.checked;
                
                // ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ููุงู ุทูุจ ููุฒูุงุฏุฉ ุงูููุณููุฉ
                const includeSeasonalIncrease = includeSeasonalIncreaseCheckbox.checked;
                
                // ุชุญุฏูุฏ ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ
                const geographicLocation = document.getElementById('geographicLocation').value;
                
                // ุชุญุฏูุฏ ูุณุจุฉ ุญุณุงุจ ูููุฉ ุงูุฃุทูุงู ุจูุงุกู ุนูู ุฎูุงุฑ ุจุฏู ุงูุณูู
                const childPercentageBase = includeHousingAllowance ? 5 : 6.5;
                
                // ุฌูุน ูุนูููุงุช ุงููุฆุงุช ุงูุนูุฑูุฉ ููุฃุจูุงุก
                const childrenData = [];
                let totalChildrenPercentage = 0;
                
                for (let i = 0; i < childrenCount; i++) {
                    const ageSelect = document.getElementById(`childAge_${i}`);
                    const selectedOption = ageSelect.options[ageSelect.selectedIndex];
                    const ageFactor = parseFloat(selectedOption.getAttribute('data-factor'));
                    const ageCategory = selectedOption.textContent;
                    
                    // ุญุณุงุจ ูุณุจุฉ ุงูุทูู (ูุณุจุฉ ุงูุฃุณุงุณ ร ูุนุงูู ุงููุฆุฉ ุงูุนูุฑูุฉ)
                    const childPercentage = childPercentageBase * ageFactor;
                    
                    childrenData.push({
                        index: i + 1,
                        ageCategory: ageCategory,
                        ageFactor: ageFactor,
                        percentage: childPercentage
                    });
                    
                    totalChildrenPercentage += childPercentage;
                }
                
                // ุญุณุงุจ ุงููุณุจุฉ ุงูุฅุฌูุงููุฉ
                let totalPercentage = totalChildrenPercentage;
                
                // ุฅุถุงูุฉ ูุณุจุฉ ุจุฏู ุงูุณูู ุญุณุจ ุงููุธุงู ุงูุฌุฏูุฏ
                let housingPercentage = 0;
                if (includeHousingAllowance) {
                    housingPercentage = 8; // 8% ูุจุฏู ุงูุณูู ุงููุณุชูู
                } else {
                    housingPercentage = 9; // 9% ุถูู ุงููููุฉ ุงูุนุงูุฉ
                }
                totalPercentage += housingPercentage;
                
                // ุฅุถุงูุฉ ุนุงูู ุงูุฅูุงูุฉ ุงูุฌุบุฑุงููุฉ
                let geographicFactor = 0;
                if (geographicLocation === 'high_cost') {
                    geographicFactor = 2; // 2% ููููุงุทู ูุฑุชูุนุฉ ุงููููุฉ
                    totalPercentage += geographicFactor;
                }
                
                // ุชุญุฏูุฏ ุงูุณูู ุงูุฃุนูู ูููุณุจุฉ ุญุณุจ ุงูุฏุฎู
                let maxPercentage = 40; // ุงููุงุนุฏุฉ ุงูุนุงูุฉ
                if (netIncome < 600) {
                    maxPercentage = 45; // ุฑูุน ุงูุณูู ููุฏุฎู ุงูููุฎูุถ
                } else if (netIncome > 1500) {
                    maxPercentage = 35; // ุฎูุถ ุงูุณูู ููุฏุฎู ุงููุฑุชูุน
                }
                
                // ุชุทุจูู ุงูุณูู ุงูุฃุนูู
                const originalPercentage = totalPercentage;
                totalPercentage = Math.min(totalPercentage, maxPercentage);
                
                // ุญุณุงุจ ุงููุจูุบ ุงูุฃุณุงุณู
                let baseAmount = (netIncome * totalPercentage) / 100;
                
                // ุฅูุดุงุก ุฌุฏูู ุชูุตููู ููุญุณุงุจ
                let tableHTML = `
                    <h4>ุชูุงุตูู ุญุณุงุจ ุงููุณุจ ุญุณุจ ุงููุฆุงุช ุงูุนูุฑูุฉ:</h4>
                    <table class="calculation-table">
                        <thead>
                            <tr>
                                <th>ุงูุจูุฏ</th>
                                <th>ุงููุฆุฉ ุงูุนูุฑูุฉ</th>
                                <th>ุงููุนุงูู</th>
                                <th>ุงููุณุจุฉ ุงููุญุณูุจุฉ</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                if (includeHousingAllowance) {
                    tableHTML += `
                        <tr>
                            <td>ุจุฏู ุงูุณูู</td>
                            <td>-</td>
                            <td>-</td>
                            <td>20%</td>
                        </tr>
                    `;
                    housingAllowanceElement.textContent = `ุจุฏู ุงูุณูู: 20% ูู ุงูุฏุฎู ุงูุตุงูู (${netIncome.toFixed(2)} ุฑ.ุน) = ${(netIncome * 0.2).toFixed(2)} ุฑ.ุน`;
                } else {
                    housingAllowanceElement.textContent = 'ูุง ููุฌุฏ ุจุฏู ุณูู ูุทููุจ';
                }
                
                childrenData.forEach(child => {
                    tableHTML += `
                        <tr>
                            <td>ุงูุทูู ${child.index}</td>
                            <td>${child.ageCategory}</td>
                            <td>${child.ageFactor}</td>
                            <td>${child.percentage.toFixed(1)}%</td>
                        </tr>
                    `;
                });
                
                tableHTML += `
                        <tr class="total-row">
                            <td colspan="3">ุฅุฌูุงูู ุงููุณุจุฉ (ูุน ุชุทุจูู ุงูุญุฏ ุงูุฃูุตู 40%)</td>
                            <td>${totalPercentage.toFixed(1)}%</td>
                        </tr>
                    </tbody>
                </table>
                `;
                
                childrenCalculationDetails.innerHTML = tableHTML;
                baseCalculationElement.textContent = `ุงููุจูุบ ุงูุฃุณุงุณู: ${totalPercentage.toFixed(1)}% ูู ุงูุฏุฎู ุงูุตุงูู (${netIncome.toFixed(2)} ุฑ.ุน) = ${baseAmount.toFixed(2)} ุฑ.ุน`;
                
                // ุฎุตู ุงูุฃุจูุงุก ูู ุงูุฒูุฌุฉ ุงูุฃุฎุฑู ุฅู ูุฌุฏูุง
       // ุฎุตู ุงูุฃุจูุงุก ูู ุฒูุฌุฉ ุฃุฎุฑู
                let otherChildrenDeduction = 0;
                let otherChildrenDeductionText = 'ูุง ููุฌุฏ ุฎุตู ููุฃุจูุงุก ูู ุฒูุฌุฉ ุฃุฎุฑู';
                
                if (hasAnotherWifeCheckbox.checked && hasChildrenFromAnotherWifeCheckbox.checked) {
                    const otherChildrenCount = parseInt(document.getElementById('otherChildrenCount').value) || 0;
                    
                    if (otherChildrenCount > 0) {
                        // ุชุญุฏูุฏ ูุณุจุฉ ุงูุฎุตู ุญุณุจ ุนุฏุฏ ุงูุฃุจูุงุก (3-5% ููู ุทูู)
                        let deductionPerChild = 3; // ุงููุณุจุฉ ุงูุฃุณุงุณูุฉ
                        if (otherChildrenCount >= 2) deductionPerChild = 4;
                        if (otherChildrenCount >= 3) deductionPerChild = 5;
                        
                        // ุฎุตู ุจุญุฏ ุฃูุตู 15% (ุจุฏูุงู ูู 20%)
                        const otherChildrenPercentage = Math.min(otherChildrenCount * deductionPerChild, 15);
                        otherChildrenDeduction = (baseAmount * otherChildrenPercentage) / 100;
                        otherChildrenDeductionText = `ุฎุตู ${otherChildrenCount} ุฃุทูุงู ูู ุฒูุฌุฉ ุฃุฎุฑู (${deductionPerChild}% ร ${otherChildrenCount} = ${otherChildrenPercentage}%): ${otherChildrenDeduction.toFixed(2)} ุฑ.ุน`;
                    }
                }}
                
                otherChildrenDeductionElement.textContent = otherChildrenDeductionText;
                
                // ุนุฑุถ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
                finalCalculationElement.textContent = `ุงููุจูุบ ุงูููุงุฆู ูููููุฉ: ${finalAmount.toFixed(2)} ุฑ.ุน`;
                alimonyResultSpan.textContent = finalAmount.toFixed(2);
                
                // ุญุณุงุจ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ
                let seasonalIncreaseAmount = 0;
                if (includeSeasonalIncrease) {
                    // ุฒูุงุฏุฉ ุงูุฃุนูุงุฏ: 10% + ุฒูุงุฏุฉ ุงูุนุงู ุงูุฏุฑุงุณู: 15% = ุฅุฌูุงูู 25%
                    const holidayIncrease = finalAmount * 0.10; // 10% ููุฃุนูุงุฏ
                    const schoolYearIncrease = finalAmount * 0.15; // 15% ููุนุงู ุงูุฏุฑุงุณู
                    seasonalIncreaseAmount = holidayIncrease + schoolYearIncrease;
                    seasonalIncreaseResultSpan.textContent = seasonalIncreaseAmount.toFixed(0);
                    seasonalIncreaseResult.style.display = 'block';
                    
                    // ุชุญุฏูุซ ุงููุต ูุชูุถูุญ ุงูุชูุงุตูู
                    document.querySelector('#seasonalIncreaseResult').innerHTML = `
                        <strong>ุงูุฒูุงุฏุงุช ุงูููุณููุฉ:</strong><br>
                        โข ุฒูุงุฏุฉ ุงูุฃุนูุงุฏ (10%): ${holidayIncrease.toFixed(0)} ุฑ.ุน<br>
                        โข ุฒูุงุฏุฉ ุงูุนุงู ุงูุฏุฑุงุณู (15%): ${schoolYearIncrease.toFixed(0)} ุฑ.ุน<br>
                        <strong>ุฅุฌูุงูู ุงูุฒูุงุฏุงุช: <span>${seasonalIncreaseAmount.toFixed(0)}</span> ุฑ.ุน</strong>
                    `;
                } else {
                    seasonalIncreaseResult.style.display = 'none';
                }       
                // ุฅุถุงูุฉ ุดุฑุญ ูุจุณุท
                let explanation = "ุชู ุงุญุชุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉ ุจูุงุกู ุนูู: ";
                
                if (hasObligationsCheckbox.checked) {
                    explanation += `ุฎุตู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ูู ุงูุฏุฎู ุงูุฅุฌูุงูู ููุญุตูู ุนูู ุฏุฎู ุตุงูู ูุฏุฑู ${netIncome.toFixed(2)} ุฑ.ุนุ `;
                }
                
                if (includeHousingAllowance) {
                    explanation += `ุฅุถุงูุฉ ุจุฏู ุณูู ูุณุชูู ุจูุณุจุฉ ${housingPercentage}% ูู ุงูุฏุฎู ุงูุตุงููุ `;
                    explanation += `ุซู ุฅุถุงูุฉ ูุณุจุฉ ููู ุทูู (5% ร ูุนุงูู ุนูุฑู) ุญุณุจ ูุฆุชู ุงูุนูุฑูุฉุ `;
                } else {
                    explanation += `ุฅุถุงูุฉ ูุณุจุฉ ${housingPercentage}% ููุณูู ุถูู ุงููููุฉ ุงูุนุงูุฉุ `;
                    explanation += `ุซู ุงุญุชุณุงุจ ูุณุจุฉ ููู ุทูู (6.5% ร ูุนุงูู ุนูุฑู) ุญุณุจ ูุฆุชู ุงูุนูุฑูุฉุ `;
                }
                
                if (geographicLocation === 'high_cost') {
                    explanation += `ุฅุถุงูุฉ ${geographicFactor}% ููููุทูุฉ ูุฑุชูุนุฉ ุงููููุฉุ `;
                }
                
                if (hasAnotherWifeCheckbox.checked && hasChildrenFromAnotherWifeCheckbox.checked) {
                    const otherChildrenCount = parseInt(document.getElementById('otherChildrenCount').value);
                    if (!isNaN(otherChildrenCount) && otherChildrenCount > 0) {
                        explanation += `ูุฎุตู ${Math.min(otherChildrenCount * 5, 20)}% ููุฌูุฏ ุฃุจูุงุก ูู ุฒูุฌุฉ ุฃุฎุฑูุ `;
                    }
                }
                
   explanation += `ูุน ุชุทุจูู ุณูู ุฃุนูู ูููุณุจุฉ ุจู${maxPercentage}% ูู ุงูุฏุฎู ุงูุตุงูู`;
                
                // ุฅุถุงูุฉ ุชูุจูู ุฅุฐุง ุชู ุชุทุจูู ุงูุณูู
                if (originalPercentage > maxPercentage) {
                    explanation += ` (ุชู ุชุฎููุถ ุงููุณุจุฉ ูู ${originalPercentage.toFixed(1)}% ุฅูู ${maxPercentage}%)`;
                }
                explanation += `.`;
                
                if (includeSeasonalIncrease) {
                    explanation += ` ููุง ุชูุถุงู ุฒูุงุฏุฉ ููุณููุฉ ูุฏุฑูุง ${seasonalIncreaseAmount.toFixed(0)} ุฑ.ุน ููุฃุนูุงุฏ ูุงูุนุงู ุงูุฏุฑุงุณู.`;
                }
                
                simpleExplanation.textContent = explanation;
                
                // ุฅูุดุงุก ููุฎุต ุงูุญุณุงุจ ุงูุชูุตููู
                const calculationSummary = document.getElementById('calculationSummary');
                const summaryDetails = document.getElementById('summaryDetails');
                
                let summaryHTML = '';
                
                // ุจุฏู ุงูุณูู
                if (includeHousingAllowance) {
                    const housingAmount = netIncome * (housingPercentage / 100);
                    summaryHTML += `<div style="margin-bottom: 8px;"><strong>๐ ุจุฏู ุงูุณูู:</strong> ${housingAmount.toFixed(0)} ุฑ.ุน (${housingPercentage}% ูู ุงูุฏุฎู ุงูุตุงูู)</div>`;
                }
                
                // ูููุฉ ุงูุฃุทูุงู
                summaryHTML += '<div style="margin-bottom: 8px;"><strong>๐ถ ูููุฉ ุงูุฃุทูุงู:</strong></div>';
                for (let i = 0; i < childrenCount; i++) {
                    const childAgeSelect = document.getElementById(`childAge_${i}`);
                    if (childAgeSelect) {
                        const selectedOption = childAgeSelect.options[childAgeSelect.selectedIndex];
                        const factor = parseFloat(selectedOption.getAttribute('data-factor'));
                        const childPercentage = includeHousingAllowance ? 5 : 6.5;
                        const childAmount = netIncome * (childPercentage / 100) * factor;
                        summaryHTML += `<div style="margin-left: 20px; margin-bottom: 5px;">โข ุงูุทูู ${i + 1} (${selectedOption.textContent}): ${childAmount.toFixed(0)} ุฑ.ุน</div>`;
                    }
                }
                
                // ุงูุนูุงูู ุงูุฅุถุงููุฉ
                if (geographicLocation === 'high_cost') {
                    const geoAmount = netIncome * (geographicFactor / 100);
                    summaryHTML += `<div style="margin-bottom: 8px;"><strong>๐ ุนุงูู ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ:</strong> ${geoAmount.toFixed(0)} ุฑ.ุน (${geographicFactor}% ุฅุถุงููุฉ)</div>`;
                }
                
                if (hasAnotherWifeCheckbox.checked && hasChildrenFromAnotherWifeCheckbox.checked) {
                    const otherChildrenCount = parseInt(document.getElementById('otherChildrenCount').value);
                    const deductionPercentage = Math.min(otherChildrenCount * 5, 15);
                    const deductionAmount = finalAmount * (deductionPercentage / 100);
                    summaryHTML += `<div style="margin-bottom: 8px; color: #dc3545;"><strong>โ ุฎุตู ุงูุฃุจูุงุก ูู ุฒูุฌุฉ ุฃุฎุฑู:</strong> -${deductionAmount.toFixed(0)} ุฑ.ุน (${deductionPercentage}%)</div>`;
                }
                
                // ุงููุฌููุน ุงูููุงุฆู
                summaryHTML += `<hr style="margin: 10px 0; border: none; border-top: 1px solid #dee2e6;">`;
                summaryHTML += `<div style="font-weight: bold; color: #28a745; font-size: 1.05rem;"><strong>๐ฐ ุงููุฌููุน ุงูููุงุฆู:</strong> ${finalAmount.toFixed(0)} ุฑ.ุน</div>`;
                
                // ุงูุฒูุงุฏุงุช ุงูููุณููุฉ
                if (includeSeasonalIncrease) {
                    const holidayIncrease = finalAmount * 0.10;
                    const schoolYearIncrease = finalAmount * 0.15;
                    summaryHTML += `<div style="margin-top: 10px; padding-top: 10px; border-top: 1px dashed #dee2e6;">`;
                    summaryHTML += `<div style="color: #17a2b8;"><strong>๐ ุงูุฒูุงุฏุงุช ุงูููุณููุฉ:</strong></div>`;
                    summaryHTML += `<div style="margin-left: 20px; margin-bottom: 5px;">โข ุฒูุงุฏุฉ ุงูุฃุนูุงุฏ: +${holidayIncrease.toFixed(0)} ุฑ.ุน (10%)</div>`;
                    summaryHTML += `<div style="margin-left: 20px; margin-bottom: 5px;">โข ุฒูุงุฏุฉ ุงูุนุงู ุงูุฏุฑุงุณู: +${schoolYearIncrease.toFixed(0)} ุฑ.ุน (15%)</div>`;
                    summaryHTML += `</div>`;
                }
                
                summaryDetails.innerHTML = summaryHTML;
                calculationSummary.style.display = 'block';
                
                // ุนุฑุถ ุงููุชูุฌุฉ
                resultContainer.style.display = 'block';
            });
            
            // ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ
            resetBtn.addEventListener('click', function() {
                document.getElementById('alimonyForm').reset();
                childrenAgeContainer.style.display = 'none';
                childrenAgeFields.innerHTML = '';
                obligationsField.style.display = 'none';
                highObligationsAlert.style.display = 'none';
                manualDeductionField.style.display = 'none';
                anotherWifeField.style.display = 'none';
                otherChildrenField.style.display = 'none';
                resultContainer.style.display = 'none';
                seasonalIncreaseResult.style.display = 'none';
                document.getElementById('calculationSummary').style.display = 'none';
            });
            
            // ุชูุนูู ุงููุงุฆูุฉ ุงููุชูููุฉ ููููุงุชู
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const navLinks = document.querySelector('.nav-links');
            
            mobileMenuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('active');
            });
            
            // ุฅุถุงูุฉ ูุธููุฉ ุฒุฑ ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู
            const showReasoningBtn = document.getElementById('showReasoningBtn');
            const reasoningContainer = document.getElementById('reasoningContainer');
            const reasoningText = document.getElementById('reasoningText');
            const copyReasoningBtn = document.getElementById('copyReasoningBtn');
            
            // ุชูููุฏ ุฌููุฉ ุนุฏุฏ ุงูุฃุจูุงุก ุญุณุจ ุงูุนุฏุฏ ุงููุนูู
            function getChildrenCountText(count) {
                const countTexts = {
                    1: "ููุฏ ูุงุญุฏ",
                    2: "ููุฏุงู",
                    3: "ุซูุงุซุฉ ุฃุจูุงุก",
                    4: "ุฃุฑุจุนุฉ ุฃุจูุงุก",
                    5: "ุฎูุณุฉ ุฃุจูุงุก",
                    6: "ุณุชุฉ ุฃุจูุงุก",
                    7: "ุณุจุนุฉ ุฃุจูุงุก",
                    8: "ุซูุงููุฉ ุฃุจูุงุก",
                    9: "ุชุณุนุฉ ุฃุจูุงุก",
                    10: "ุนุดุฑุฉ ุฃุจูุงุก"
                };
                
                return countTexts[count] || count + " ุฃุจูุงุก";
            }
            
            // ุชูููุฏ ุฌููุฉ ูุตู ุงูุฃุนูุงุฑ ุญุณุจ ุงููุฆุงุช ุงููุฏุฎูุฉ
            function getAgeDescriptionText(childrenData) {
                // ุชุญุฏูุฏ ุงููุฆุงุช ุงูุนูุฑูุฉ ุงูููุฌูุฏุฉ
                const hasInfant = childrenData.some(child => child.ageCategory.includes('ุฑุถูุน'));
                const hasYoung = childrenData.some(child => child.ageCategory.includes('ุทูู ุตุบูุฑ'));
                const hasSchool = childrenData.some(child => child.ageCategory.includes('ุทูู ูุฏุฑุณู'));
                const hasTeen = childrenData.some(child => child.ageCategory.includes('ูุฑุงูู'));
                const hasAdult = childrenData.some(child => child.ageCategory.includes('ุดุงุจ'));
                
                // ุชุญุฏูุฏ ุงููุต ุงูููุงุณุจ ุจูุงุกู ุนูู ุงููุฆุงุช ุงูููุฌูุฏุฉ
                if (hasInfant && !hasYoung && !hasSchool && !hasTeen && !hasAdult) {
                    return "ููุงู ุฌููุนูู ูู ุณู ุงูุฑุถุงุนุฉ";
                } else if ((hasYoung || hasSchool) && !hasInfant && !hasTeen && !hasAdult) {
                    return "ูุชุฑุงูุญุช ุฃุนูุงุฑูู ุจูู ุงูุทูููุฉ ุงููุจูุฑุฉ ูุงููุฑุญูุฉ ุงููุฏุฑุณูุฉ";
                } else if (!hasInfant && !hasYoung && !hasSchool && hasTeen && !hasAdult) {
                    return "ููุงู ูู ูุฑุญูุฉ ุงููุฑุงููุฉ";
                } else if ((hasInfant || hasYoung || hasSchool) && (hasTeen || hasAdult)) {
                    return "ูุชูุฒุนุช ุฃุนูุงุฑูู ุจูู ุณู ุงูุทูููุฉ ูุงููุฑุงููุฉ ูุณู ุงูุดุจุงุจ";
                } else if (hasYoung && hasSchool && !hasInfant && !hasTeen && !hasAdult) {
                    return "ูุชุฑุงูุญุช ุฃุนูุงุฑูู ุจูู ุงูุทูููุฉ ุงููุจูุฑุฉ ูุงููุฑุญูุฉ ุงููุฏุฑุณูุฉ";
                } else {
                    return "ูุชููุนุช ุฃุนูุงุฑูู ุจูู ูุฎุชูู ุงููุฑุงุญู ุงูุนูุฑูุฉ";
                }
            }
            
            // ูุธููุฉ ุชูููุฏ ูุต ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู
            function generateReasoning() {
                // ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุงููุทููุจุฉ
                const childrenCount = parseInt(document.getElementById('childrenCount').value);
                const fatherIncome = parseFloat(document.getElementById('fatherIncome').value);
                const includeHousingAllowance = document.getElementById('includeHousingAllowance').checked;
                const includeSeasonalIncrease = document.getElementById('includeSeasonalIncrease').checked;
                const hasObligations = document.getElementById('hasObligations').checked;
                
                // ุฌูุน ูุนูููุงุช ุงููุฆุงุช ุงูุนูุฑูุฉ ููุฃุจูุงุก
                const childrenData = [];
                for (let i = 0; i < childrenCount; i++) {
                    const ageSelect = document.getElementById(`childAge_${i}`);
                    const selectedOption = ageSelect.options[ageSelect.selectedIndex];
                    const ageCategory = selectedOption.textContent;
                    childrenData.push({ ageCategory: ageCategory });
                }
                
                // ุงูุญุตูู ุนูู ูููุฉ ุงููููุฉ ุงูููุงุฆูุฉ
                const finalAmount = parseFloat(alimonyResultSpan.textContent);
                
                // ุงูุญุตูู ุนูู ูููุฉ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ ุฅุฐุง ูุงูุช ููุนูุฉ
                let seasonalIncreaseAmount = 0;
                if (includeSeasonalIncrease) {
                    seasonalIncreaseAmount = parseFloat(seasonalIncreaseResultSpan.textContent);
                }
                
                // ุงูุญุตูู ุนูู ูููุฉ ุงูุงูุชุฒุงูุงุช ุฅุฐุง ูุงูุช ููุฌูุฏุฉ
                let obligationsAmount = 0;
                if (hasObligations) {
                    if (highObligationsAlert.style.display === 'block' && manualDeductionRadio.checked) {
                        obligationsAmount = parseFloat(manualDeductionAmountInput.value) || 0;
                    } else {
                        obligationsAmount = parseFloat(obligationsAmountInput.value) || 0;
                    }
                }
                
                // ุชูููุฏ ุฌููุฉ ุนุฏุฏ ุงูุฃุจูุงุก
                const childrenCountText = getChildrenCountText(childrenCount);
                
                // ุชูููุฏ ุฌููุฉ ูุตู ุงูุฃุนูุงุฑ
                const ageDescriptionText = getAgeDescriptionText(childrenData);
                
                // ุจูุงุก ูุต ุงูุชุณุจูุจ
                let reasoningText = `ูุนู ุทูุจ ุงููุฏุนูุฉ ูููุฉ ุดูุฑูุฉ ููุฃุจูุงุกุ ูููุง ูุงูุช ุงููุงุฏุฉ (ูกูฃู) ูู ูุงููู ุงูุฃุญูุงู ุงูุดุฎุตูุฉ ุชูุต ุนูู ุฃู: "ุงูุญุถุงูุฉ ูู ูุงุฌุจุงุช ุงูุฃุจููู ูุนูุง ูุง ุฏุงูุช ุงูุฒูุฌูุฉ ูุงุฆูุฉ ุจููููุงุ ูุฅู ุงูุชุฑูุง ููู ููุฃูโฆ"ุ
ููุงูุช ุงููุงุฏุฉ (ูกูฃูข) ูู ุฐุงุช ุงููุงููู ุชูุต ุนูู ุฃู: "ุฅุฐุง ุชุฑูุช ุงูุฃู ุจูุช ุงูุฒูุฌูุฉ ูุฎูุงู ุฃู ุบูุฑูุ ูุชููู ุงูุญุถุงูุฉ ููุง ูุง ูู ููุฏุฑ ุงููุงุถู ุฎูุงู ุฐููโฆ"ุ
ููุง ูุตุช ุงููุงุฏุฉ (ูคูค) ุนูู ุฃู: "ุชุดูู ุงููููุฉ ุงูุทุนุงู ูุงููุณูุฉ ูุงููุณูู ูุงูุชุทุจูุจโฆ"ุ
ูุงููุงุฏุฉ (ูฆู/ุฃ) ุชูุถู ุจุฃู "ูููุฉ ุงูููุฏ ุงูุตุบูุฑ ุงูุฐู ูุง ูุงู ูู ุนูู ุฃุจููโฆ"ุ
ูุงููุงุฏุฉ (ูคูฅ) ุชูุฒู ุจูุฑุงุนุงุฉ ุณุนุฉ ุงูููููู ูุญุงู ุงูููููู ุนููู ูุงููุถุน ุงูุงูุชุตุงุฏู ุฒูุงููุง ูููุงููุงุ
ููุตุฏุงููุง ููููู ุชุนุงูู: (ููููููููู ุฐูู ุณูุนูุฉู ูููู ุณูุนูุชููู ููููู ููุฏูุฑู ุนููููููู ุฑูุฒููููู ููููููููููู ูููููุง ุขุชูุงูู ุงูููููู ููุง ููููููููู ุงูููููู ููููุณูุง ุฅููููุง ููุง ุขุชูุงููุง).

ูููุง ูุงู ูููุฏุนูุฉ ${childrenCountText}ุ ${ageDescriptionText}ุ ููุงู ุฏุฎู ุงูุฃุจ ุงูุดูุฑู ูุจูุบ (${fatherIncome.toFixed(2)} ุฑ.ุน)`;

                // ุฅุถุงูุฉ ุฌููุฉ ุงูุงูุชุฒุงูุงุช ุฅุฐุง ูุงูุช ููุฌูุฏุฉ
                if (hasObligations && obligationsAmount > 0) {
                    reasoningText += `ุ ูุชู ุฎุตู ุงูุงูุชุฒุงูุงุช ุงูุดูุฑูุฉ ุงูุจุงูุบุฉ (${obligationsAmount.toFixed(2)} ุฑ.ุน)`;
                }
                
                // ุฅุถุงูุฉ ุฌููุฉ ุจุฏู ุงูุณูู ุฅุฐุง ูุงู ููุนูุงู
                if (includeHousingAllowance) {
                    reasoningText += `,
ููุง ุงุดุชููุช ุงูุญุณุจุฉ ุนูู ุจุฏู ุณูู ุจูุณุจุฉ (ูขููช)`;
                }
                
                reasoningText += `,
ูุชู ุชูุฏูุฑ ูููุฉ ุงูุฃุจูุงุก ุจูุงุกู ุนูู ุฃุนูุงุฑูู ููุฆุงุชูู ูุงุญุชูุงุฌุงุชูู ุงูุฃุณุงุณูุฉุ
ูุฅู ุงููุญููุฉ ุชููุฏูุฑ ุงููููุฉ ุงูุดูุฑูุฉ ุงูุดุงููุฉ ุจูุจูุบ ููุฏุฑู:
(${finalAmount.toFixed(2)} ุฑ.ุน)`;

                // ุฅุถุงูุฉ ุฌููุฉ ุงูุฒูุงุฏุฉ ุงูููุณููุฉ ุฅุฐุง ูุงูุช ููุนูุฉ
                if (includeSeasonalIncrease) {
                    reasoningText += `,
ูุชุฒุงุฏ ูู ุงูุฃุนูุงุฏ ูุจุฏุงูุฉ ุงููุตูู ุงูุฏุฑุงุณูุฉ ุฅูู ูุจูุบ ููุฏุฑู:
(${seasonalIncreaseAmount.toFixed(0)} ุฑ.ุน)ุ ูุฐูู ููู ูุง ุณูุฑุฏ ูู ููุทูู ูุฐุง ุงูุญูู`;
                }
                
                reasoningText += ".";
                
                return reasoningText;
            }
            
            // ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู ุนูุฏ ุงูููุฑ ุนูู ุงูุฒุฑ
            showReasoningBtn.addEventListener('click', function() {
                // ุงูุชุญูู ูู ูุฌูุฏ ูุชูุฌุฉ ุญุณุงุจ
                if (resultContainer.style.display === 'none') {
                    alert('ูุฑุฌู ุญุณุงุจ ุงููููุฉ ุฃููุงู ูุจู ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ');
                    return;
                }
                
                // ุชูููุฏ ูุต ุงูุชุณุจูุจ
                const reasoning = generateReasoning();
                
                // ุนุฑุถ ูุต ุงูุชุณุจูุจ
                reasoningText.textContent = reasoning;
                reasoningContainer.style.display = 'block';
                
                // ุงูุชูุฑูุฑ ุฅูู ูุณู ุงูุชุณุจูุจ
                reasoningContainer.scrollIntoView({ behavior: 'smooth' });
            });
            
            // ูุณุฎ ูุต ุงูุชุณุจูุจ ุฅูู ุงูุญุงูุธุฉ
            copyReasoningBtn.addEventListener('click', function() {
                // ูุณุฎ ุงููุต ุฅูู ุงูุญุงูุธุฉ
                const textToCopy = reasoningText.textContent;
                navigator.clipboard.writeText(textToCopy).then(function() {
                    // ุชุบููุฑ ูุต ุงูุฒุฑ ูุคูุชุงู ููุฅุดุงุฑุฉ ุฅูู ูุฌุงุญ ุงููุณุฎ
                    const originalText = copyReasoningBtn.textContent;
                    copyReasoningBtn.textContent = 'ุชู ุงููุณุฎ!';
                    copyReasoningBtn.style.backgroundColor = '#28a745';
                    
                    // ุฅุนุงุฏุฉ ุงููุต ุงูุฃุตูู ุจุนุฏ ุซุงููุชูู
                    setTimeout(function() {
                        copyReasoningBtn.textContent = originalText;
                        copyReasoningBtn.style.backgroundColor = '#4682b4';
                    }, 2000);
                }).catch(function(err) {
                    console.error('ูุดู ูุณุฎ ุงููุต: ', err);
                    alert('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ูุณุฎ ุงููุต');
                });
            });
            
            // ุฏุงูุฉ ุชูููุฏ ูุต ุงูุชุณุจูุจ
            function generateReasoning() {
                const fatherIncome = parseFloat(document.getElementById('fatherIncome').value);
                const childrenCount = parseInt(document.getElementById('childrenCount').value);
                const includeHousingAllowance = document.getElementById('includeHousingAllowance').checked;
                const includeSeasonalIncrease = document.getElementById('includeSeasonalIncrease').checked;
                const netIncomeResultSpan = document.querySelector('#netIncomeResult span');
                const alimonyResultSpan = document.querySelector('#alimonyResult span');
                const seasonalIncreaseResultSpan = document.querySelector('#seasonalIncreaseResult span');
                
                const netIncome = parseFloat(netIncomeResultSpan.textContent);
                const finalAmount = parseFloat(alimonyResultSpan.textContent);
                const seasonalIncreaseAmount = includeSeasonalIncrease ? (parseFloat(seasonalIncreaseResultSpan.textContent) - finalAmount) : 0;
                
                let reasoningText = `ูุญูุซ ุฃู ุงููุฏุนูุฉ ุชุทูุจ ุงูุญูู ููุง ุจูููุฉ ุฃุทูุงููุง ูู ุงููุฏุนู ุนูููุ `;
                reasoningText += `ูุญูุซ ุฃู ุฏุฎู ุงููุฏุนู ุนููู ุงูุดูุฑู ูุจูุบ ${fatherIncome} ุฑ.ุนุ `;
                reasoningText += `ูุจุนุฏ ุฎุตู ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ูุตุจุญ ุงูุฏุฎู ุงูุตุงูู ${netIncome} ุฑ.ุนุ `;
                reasoningText += `ูุญูุซ ุฃู ุนุฏุฏ ุงูุฃุทูุงู ุงููุณุชุญููู ูููููุฉ ูู ${childrenCount}ุ `;
                
                if (includeHousingAllowance) {
                    reasoningText += `ูุญูุซ ุฃู ุงููุฏุนูุฉ ุชุทูุจ ุจุฏู ุณูู ูุณุชููุ `;
                }
                
                reasoningText += `ูุจุชุทุจูู ุงููุนุงููุฑ ุงููุถุงุฆูุฉ ุงููุนุชูุฏุฉ ูู ุญุณุงุจ ุงููููุฉ ุงูุชูุฏูุฑูุฉุ `;
                reasoningText += `ุชูุฏุฑ ุงููุญููุฉ ุงููููุฉ ุงูุดูุฑูุฉ ููุฃุทูุงู ุจูุจูุบ ${finalAmount} ุฑ.ุน`;
                
                if (includeSeasonalIncrease) {
                    reasoningText += `, ูุชุฒุงุฏ ูู ุงูุฃุนูุงุฏ ูุจุฏุงูุฉ ุงููุตูู ุงูุฏุฑุงุณูุฉ ุฅูู ูุจูุบ ููุฏุฑู ${(finalAmount + seasonalIncreaseAmount).toFixed(0)} ุฑ.ุน`;
                }
                
                reasoningText += `.`;
                
                return reasoningText;
            }
            
            // ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ ููุญูู
            if (showReasoningBtn) {
                showReasoningBtn.addEventListener('click', function() {
                    if (resultContainer.style.display === 'none') {
                        alert('ูุฑุฌู ุญุณุงุจ ุงููููุฉ ุฃููุงู ูุจู ุนุฑุถ ุงูุชุณุจูุจ ุงูููุชุฑุญ');
                        return;
                    }
                    
                    const reasoning = generateReasoning();
                    reasoningText.textContent = reasoning;
                    reasoningContainer.style.display = 'block';
                    reasoningContainer.scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            // ูุณุฎ ูุต ุงูุชุณุจูุจ
            if (copyReasoningBtn) {
                copyReasoningBtn.addEventListener('click', function() {
                    const textToCopy = reasoningText.textContent;
                    navigator.clipboard.writeText(textToCopy).then(function() {
                        const originalText = copyReasoningBtn.textContent;
                        copyReasoningBtn.textContent = 'ุชู ุงููุณุฎ!';
                        copyReasoningBtn.style.backgroundColor = '#28a745';
                        
                        setTimeout(function() {
                            copyReasoningBtn.textContent = originalText;
                            copyReasoningBtn.style.backgroundColor = '#4682b4';
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ูุดู ูุณุฎ ุงููุต: ', err);
                        alert('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ูุณุฎ ุงููุต');
                    });
                });
            }
        });
    </script>
    
    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "04ae7959925e4fe692ceab1bd15e1a62"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
